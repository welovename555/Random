<!DOCTYPE html>
<html lang="th">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>‡πÇ‡∏õ‡∏£‡πÅ‡∏Å‡∏£‡∏°‡∏™‡∏£‡πâ‡∏≤‡∏á‡∏ó‡∏µ‡πà‡∏≠‡∏¢‡∏π‡πà‡∏•‡∏±‡∏ö V.Final-Restored</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <link href="https://fonts.googleapis.com/css2?family=JetBrains+Mono:wght@400;500;600&family=Sarabun:wght@300;400;500;600&display=swap" rel="stylesheet">
    <style>
        .mono-font { font-family: 'JetBrains Mono', 'Fira Code', 'Courier New', monospace; }
        .thai-font { font-family: 'Sarabun', 'Noto Sans Thai', sans-serif; }
        .result-box {
            background: linear-gradient(135deg, #1f2937 0%, #111827 100%);
            border: 1px solid #374151;
            box-shadow: 0 10px 25px rgba(0, 0, 0, 0.3);
            position: relative;
            overflow: hidden;
        }
        .result-box::before {
            content: ''; position: absolute; top: 0; left: -100%; width: 100%; height: 100%;
            background: linear-gradient(90deg, transparent, rgba(59, 130, 246, 0.1), transparent);
            animation: shimmer 4s infinite;
        }
        @keyframes shimmer { 0% { left: -100%; } 100% { left: 100%; } }
        .btn { transition: all 0.3s ease; position: relative; overflow: hidden; }
        .btn:hover { transform: translateY(-2px); }
        .btn-primary { background: linear-gradient(135deg, #3b82f6 0%, #1d4ed8 100%); }
        .btn-primary:hover { box-shadow: 0 8px 20px rgba(59, 130, 246, 0.3); }
        .btn-secondary { background: linear-gradient(135deg, #10b981 0%, #059669 100%); }
        .btn-secondary:hover { box-shadow: 0 8px 20px rgba(16, 185, 129, 0.3); }
        .btn-accent { background: linear-gradient(135deg, #f59e0b 0%, #d97706 100%); }
        .btn-accent:hover { box-shadow: 0 8px 20px rgba(245, 158, 11, 0.3); }
        .btn-danger { background: linear-gradient(135deg, #ef4444 0%, #dc2626 100%); }
        .btn-danger:hover { box-shadow: 0 8px 20px rgba(239, 68, 68, 0.3); }
        .fade-in { animation: fadeIn 0.5s ease-in; }
        @keyframes fadeIn { from { opacity: 0; transform: translateY(10px); } to { opacity: 1; transform: translateY(0); } }
        .pulse-glow { animation: pulseGlow 2s infinite; }
        @keyframes pulseGlow { 0%, 100% { box-shadow: 0 0 5px rgba(59, 130, 246, 0.3); } 50% { box-shadow: 0 0 20px rgba(59, 130, 246, 0.6); } }
        .stats-card { background: linear-gradient(135deg, #374151 0%, #1f2937 100%); border: 1px solid #4b5563; }
        .matrix-bg { position: fixed; top: 0; left: 0; width: 100%; height: 100%; pointer-events: none; z-index: -1; opacity: 0.1; }
    </style>
</head>
<body class="bg-gray-900 text-gray-100 min-h-screen thai-font">
    <canvas class="matrix-bg" id="matrixCanvas"></canvas>
    
    <div class="container mx-auto px-4 py-8 max-w-6xl">
        <div class="text-center mb-8">
            <h1 class="text-4xl md:text-6xl font-bold bg-gradient-to-r from-blue-400 via-purple-500 to-pink-500 bg-clip-text text-transparent mb-4 pulse-glow">
                üîê ‡πÇ‡∏õ‡∏£‡πÅ‡∏Å‡∏£‡∏°‡∏™‡∏£‡πâ‡∏≤‡∏á‡∏ó‡∏µ‡πà‡∏≠‡∏¢‡∏π‡πà‡∏•‡∏±‡∏ö üîê
            </h1>
            <p class="text-gray-400 text-lg mb-4">
                ‡∏™‡∏£‡πâ‡∏≤‡∏á‡∏ó‡∏µ‡πà‡∏≠‡∏¢‡∏π‡πà‡πÅ‡∏•‡∏∞‡πÄ‡∏ö‡∏≠‡∏£‡πå‡πÇ‡∏ó‡∏£‡πÉ‡∏ô‡∏£‡∏π‡∏õ‡πÅ‡∏ö‡∏ö‡∏†‡∏≤‡∏©‡∏≤‡∏û‡∏π‡∏î ‡∏´‡∏•‡∏ö‡πÄ‡∏•‡∏µ‡πà‡∏¢‡∏á‡∏ö‡∏≠‡∏ó‡∏Ç‡∏±‡πâ‡∏ô‡∏™‡∏π‡∏á‡∏™‡∏∏‡∏î
            </p>
        </div>

        <div class="grid grid-cols-2 md:grid-cols-4 gap-4 mb-6">
            <div class="stats-card rounded-lg p-4 text-center">
                <div class="text-2xl font-bold text-blue-400" id="generateCount">0</div>
                <div class="text-xs text-gray-400">‡∏Ñ‡∏£‡∏±‡πâ‡∏á‡∏ó‡∏µ‡πà‡∏™‡∏£‡πâ‡∏≤‡∏á</div>
            </div>
            <div class="stats-card rounded-lg p-4 text-center">
                <div class="text-2xl font-bold text-green-400" id="copyCount">0</div>
                <div class="text-xs text-gray-400">‡∏Ñ‡∏£‡∏±‡πâ‡∏á‡∏ó‡∏µ‡πà‡∏Ñ‡∏±‡∏î‡∏•‡∏≠‡∏Å</div>
            </div>
            <div class="stats-card rounded-lg p-4 text-center">
                <div class="text-2xl font-bold text-purple-400" id="currentVariation">A1</div>
                <div class="text-xs text-gray-400">‡∏£‡∏π‡∏õ‡πÅ‡∏ö‡∏ö‡∏õ‡∏±‡∏à‡∏à‡∏∏‡∏ö‡∏±‡∏ô</div>
            </div>
            <div class="stats-card rounded-lg p-4 text-center">
                <div class="text-2xl font-bold text-yellow-400" id="obfuscationLevelIcon">üî¥</div>
                <div class="text-xs text-gray-400">‡∏£‡∏∞‡∏î‡∏±‡∏ö‡∏Å‡∏≤‡∏£‡∏û‡∏£‡∏≤‡∏á</div>
            </div>
        </div>

        <div class="result-box rounded-xl p-6 mb-6 relative">
            <div class="absolute top-4 right-4 text-xs text-gray-500" id="generationTime"></div>
            <pre id="resultDisplay" class="mono-font text-green-300 text-sm md:text-base leading-relaxed whitespace-pre-wrap min-h-[150px]"></pre>
        </div>

        <div class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4 mb-6">
            <button id="generateBtn" class="btn btn-primary text-white px-6 py-3 rounded-lg font-semibold text-lg shadow-lg">üé≤ ‡∏™‡∏£‡πâ‡∏≤‡∏á‡πÉ‡∏´‡∏°‡πà</button>
            <button id="copyBtn" class="btn btn-secondary text-white px-6 py-3 rounded-lg font-semibold text-lg shadow-lg">üìã ‡∏Ñ‡∏±‡∏î‡∏•‡∏≠‡∏Å</button>
            <button id="autoGenBtn" class="btn btn-accent text-white px-6 py-3 rounded-lg font-semibold text-lg shadow-lg">‚ö° Auto <span id="autoStatus">OFF</span></button>
            <button id="clearBtn" class="btn btn-danger text-white px-6 py-3 rounded-lg font-semibold text-lg shadow-lg">üóëÔ∏è ‡∏•‡πâ‡∏≤‡∏á‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•</button>
        </div>

        <div class="bg-gray-800 rounded-xl p-6 mb-6">
            <h3 class="text-xl font-bold mb-4 text-center">‚öôÔ∏è ‡∏Å‡∏≤‡∏£‡∏ï‡∏±‡πâ‡∏á‡∏Ñ‡πà‡∏≤‡∏Ç‡∏±‡πâ‡∏ô‡∏™‡∏π‡∏á</h3>
            <div class="grid grid-cols-1 md:grid-cols-2 gap-6">
                <div>
                    <label class="block text-sm font-medium mb-2">‡πÇ‡∏´‡∏°‡∏î‡∏Å‡∏≤‡∏£‡∏û‡∏£‡∏≤‡∏á‡∏ï‡∏±‡∏ß</label>
                    <select id="obfuscationMode" class="w-full bg-gray-700 border border-gray-600 rounded-lg px-3 py-2">
                        <option value="modeA" selected>üî¥ ‡πÇ‡∏´‡∏°‡∏î A - ‡∏û‡∏£‡∏≤‡∏á‡∏™‡∏±‡∏ç‡∏•‡∏±‡∏Å‡∏©‡∏ì‡πå</option>
                        <option value="modeB">‚ö´ ‡πÇ‡∏´‡∏°‡∏î B - ‡∏û‡∏£‡∏≤‡∏á‡∏ú‡∏™‡∏°‡∏≠‡∏±‡∏Å‡∏Ç‡∏£‡∏∞</option>
                    </select>
                    <p id="modeDescription" class="text-xs text-gray-400 mt-2 h-10"></p>
                </div>
                <div>
                    <label class="block text-sm font-medium mb-2">‡∏Ç‡πâ‡∏≠‡∏Ñ‡∏ß‡∏≤‡∏°‡πÄ‡∏û‡∏¥‡πà‡∏°‡πÄ‡∏ï‡∏¥‡∏° (Decoy)</label>
                    <select id="decoySelect" class="w-full bg-gray-700 border border-gray-600 rounded-lg px-3 py-2">
                        <option value="none" selected>- ‡πÑ‡∏°‡πà‡∏ï‡πâ‡∏≠‡∏á‡πÉ‡∏™‡πà -</option>
                        <option value="call_first">‡πÇ‡∏ó‡∏£‡∏•‡πà‡∏ß‡∏á‡∏´‡∏ô‡πâ‡∏≤</option>
                        <option value="can_leave">‡∏ß‡∏≤‡∏á‡πÑ‡∏ß‡πâ‡πÑ‡∏î‡πâ‡πÄ‡∏•‡∏¢</option>
                        <option value="call_this">‡πÇ‡∏ó‡∏£‡∏°‡∏≤‡∏ï‡∏≤‡∏°‡πÄ‡∏ö‡∏≠‡∏£‡πå‡∏ó‡∏µ‡πà‡πÅ‡∏à‡πâ‡∏á</option>
                    </select>
                </div>
            </div>
        </div>

        <div class="bg-gray-800 rounded-xl p-6">
            <h3 class="text-xl font-bold mb-4 text-center">üìö ‡∏õ‡∏£‡∏∞‡∏ß‡∏±‡∏ï‡∏¥‡∏Å‡∏≤‡∏£‡∏™‡∏£‡πâ‡∏≤‡∏á (5 ‡∏Ñ‡∏£‡∏±‡πâ‡∏á‡∏•‡πà‡∏≤‡∏™‡∏∏‡∏î)</h3>
            <div id="historyContainer" class="space-y-2 max-h-60 overflow-y-auto">
                <div class="text-center text-gray-500 text-sm">‡∏¢‡∏±‡∏á‡πÑ‡∏°‡πà‡∏°‡∏µ‡∏õ‡∏£‡∏∞‡∏ß‡∏±‡∏ï‡∏¥</div>
            </div>
        </div>
    </div>

    <script>
    document.addEventListener('DOMContentLoaded', () => {
        // --- CORE DATA ---
        const CORE_DATA = {
            houseNumber: "62/37", soi: "‡∏•‡∏≤‡∏î‡∏Å‡∏£‡∏∞‡∏ö‡∏±‡∏á16", road: "‡∏•‡∏≤‡∏î‡∏Å‡∏£‡∏∞‡∏ö‡∏±‡∏á",
            subdistrict: "‡∏£‡∏≤‡∏ä‡∏≤‡πÄ‡∏ó‡∏ß‡∏∞", district: "‡∏ö‡∏≤‡∏á‡∏û‡∏•‡∏µ", province: "‡∏™‡∏°‡∏∏‡∏ó‡∏£‡∏õ‡∏£‡∏≤‡∏Å‡∏≤‡∏£",
            postalCode: "10540", phone: "0961408164"
        };

        // --- UI ELEMENTS ---
        const resultDisplay = document.getElementById('resultDisplay');
        const generateBtn = document.getElementById('generateBtn');
        const copyBtn = document.getElementById('copyBtn');
        const autoGenBtn = document.getElementById('autoGenBtn');
        const clearBtn = document.getElementById('clearBtn');
        const modeSelect = document.getElementById('obfuscationMode');
        const decoySelect = document.getElementById('decoySelect');
        const modeDescription = document.getElementById('modeDescription');
        const generationTimeEl = document.getElementById('generationTime');
        const generateCountEl = document.getElementById('generateCount');
        const copyCountEl = document.getElementById('copyCount');
        const variationEl = document.getElementById('currentVariation');
        const levelIconEl = document.getElementById('obfuscationLevelIcon');
        const historyContainer = document.getElementById('historyContainer');
        const autoStatusEl = document.getElementById('autoStatus');

        // --- STATE MANAGEMENT ---
        let stats = { generateCount: 0, copyCount: 0 };
        let history = [];
        let autoInterval = null;

        // --- UTILITIES ---
        const randItem = (arr) => arr[Math.floor(Math.random() * arr.length)];
        const toSpelledOut = (numStr) => numStr.split('').map(char => '‡∏®‡∏π‡∏ô‡∏¢‡πå‡∏´‡∏ô‡∏∂‡πà‡∏á‡∏™‡∏≠‡∏á‡∏™‡∏≤‡∏°‡∏™‡∏µ‡πà‡∏´‡πâ‡∏≤‡∏´‡∏Å‡πÄ‡∏à‡πá‡∏î‡πÅ‡∏õ‡∏î‡πÄ‡∏Å‡πâ‡∏≤'[char] || char).join('-');
        const generateVariationCode = () => `${randItem('ABCDEFGHIJKLMNOPQRSTUVWXYZ'.split(''))}${randItem('0123456789'.split(''))}`;

        // --- OBFUSCATION LOGIC ---
        function obfuscatePhone(phone) {
            const p = phone.match(/(\d{3})(\d{3})(\d{4})/);
            if (!p) return phone;
            const [, p1, p2, p3] = p;
            const formats = [ `(${p1}) ${p2}-${p3}`, `${p1}.${p2}.${p3}`, `[${p1}]-${p2}-${p3}`, `${p1} - ${p2} - ${p3}`, `${p1} . ${p2} . ${p3}_` ];
            return randItem(formats);
        }

        function obfuscateHouseNumber(hn) {
            const parts = hn.split('/');
            if (parts.length !== 2) return hn;
            let [h1, h2] = parts;
            if (Math.random() < 0.5) h1 = h1.split('').join(randItem([' ', '_', '']));
            if (Math.random() < 0.5) h2 = h2.split('').join(randItem([' ', '_', '']));
            const formats = [ `${h1} / ${h2}`, `(${h1})/${h2}`, `${h1}./.${h2}`, `${h1} --/-- ${h2}` ];
            return randItem(formats);
        }

        function getSmartDecoy() {
            const selection = decoySelect.value;
            const decoyVariations = {
                call_first: ["(‡∏£‡∏ö‡∏Å‡∏ß‡∏ô‡πÇ‡∏ó‡∏£‡πÅ‡∏à‡πâ‡∏á‡∏•‡πà‡∏ß‡∏á‡∏´‡∏ô‡πâ‡∏≤‡∏ô‡∏∞‡∏Ñ‡∏£‡∏±‡∏ö)", "**‡πÇ‡∏ó‡∏£‡∏´‡∏≤‡∏Å‡πà‡∏≠‡∏ô‡∏™‡πà‡∏á‡∏î‡πâ‡∏ß‡∏¢‡∏Ñ‡∏£‡∏±‡∏ö**", "‡∏Å‡∏£‡∏∏‡∏ì‡∏≤‡πÇ‡∏ó‡∏£‡∏°‡∏≤‡∏Å‡πà‡∏≠‡∏ô‡πÄ‡∏Ç‡πâ‡∏≤‡∏°‡∏≤‡∏™‡πà‡∏á‡∏ô‡∏∞‡∏Ñ‡∏£‡∏±‡∏ö"],
                can_leave: ["(‡∏™‡∏≤‡∏°‡∏≤‡∏£‡∏ñ‡∏ß‡∏≤‡∏á‡∏û‡∏±‡∏™‡∏î‡∏∏‡πÑ‡∏ß‡πâ‡πÑ‡∏î‡πâ‡πÄ‡∏•‡∏¢)", "‡∏ù‡∏≤‡∏Å‡∏Ç‡∏≠‡∏á‡πÑ‡∏ß‡πâ‡πÑ‡∏î‡πâ‡πÄ‡∏•‡∏¢‡∏Ñ‡∏£‡∏±‡∏ö‡∏ú‡∏°", "‡∏ß‡∏≤‡∏á‡πÑ‡∏ß‡πâ‡∏ó‡∏µ‡πà‡∏´‡∏ô‡πâ‡∏≤‡∏õ‡∏£‡∏∞‡∏ï‡∏π‡πÑ‡∏î‡πâ‡πÄ‡∏•‡∏¢"],
                call_this: ["‡∏ï‡∏¥‡∏î‡∏ï‡πà‡∏≠‡πÑ‡∏î‡πâ‡∏ï‡∏≤‡∏°‡πÄ‡∏ö‡∏≠‡∏£‡πå‡∏ó‡∏µ‡πà‡πÅ‡∏à‡πâ‡∏á‡∏Ñ‡∏£‡∏±‡∏ö", "‡πÇ‡∏ó‡∏£‡∏°‡∏≤‡πÑ‡∏î‡πâ‡πÄ‡∏•‡∏¢‡∏ï‡∏≤‡∏°‡πÄ‡∏ö‡∏≠‡∏£‡πå‡∏ó‡∏µ‡πà‡πÉ‡∏´‡πâ‡πÑ‡∏ß‡πâ", "‡πÄ‡∏ö‡∏≠‡∏£‡πå‡∏ï‡∏¥‡∏î‡∏ï‡πà‡∏≠‡∏ï‡∏≤‡∏°‡∏ó‡∏µ‡πà‡∏£‡∏∞‡∏ö‡∏∏"]
            };
            return decoyVariations[selection] ? randItem(decoyVariations[selection]) : "";
        }
        
        // --- MAIN GENERATION FUNCTION ---
        function generateAddress() {
            const startTime = Date.now();
            const mode = modeSelect.value;

            const houseNum = obfuscateHouseNumber(CORE_DATA.houseNumber);
            const phoneNum = obfuscatePhone(CORE_DATA.phone);
            
            let soi = CORE_DATA.soi;
            let postal = CORE_DATA.postalCode;
            if (mode === 'modeB' && Math.random() > 0.5) {
                soi = soi.replace(/(\d+)/, num => `"${toSpelledOut(num)}"`);
                if (Math.random() > 0.5) postal = `‡∏£‡∏´‡∏±‡∏™‡πÑ‡∏õ‡∏£‡∏©‡∏ì‡∏µ‡∏¢‡πå "${toSpelledOut(postal)}"`;
            } else {
                 postal = `‡∏£‡∏´‡∏±‡∏™‡πÑ‡∏õ‡∏£‡∏©‡∏ì‡∏µ‡∏¢‡πå ${postal}`;
            }

            const components = {
                house: randItem([`‡∏ö‡πâ‡∏≤‡∏ô‡πÄ‡∏•‡∏Ç‡∏ó‡∏µ‡πà ${houseNum}`, `‡∏û‡∏¥‡∏Å‡∏±‡∏î‡∏ö‡πâ‡∏≤‡∏ô ${houseNum}`, `H/N: ${houseNum}`]),
                phone: randItem([`‡πÇ‡∏ó‡∏£ ${phoneNum}`, `‡∏ï‡∏¥‡∏î‡∏ï‡πà‡∏≠‡πÄ‡∏ö‡∏≠‡∏£‡πå ${phoneNum}`, `Tel. ${phoneNum}`]),
                soi: `‡∏ã‡∏≠‡∏¢ ${soi}`,
                address_group: randItem([`‡∏ñ.${CORE_DATA.road} ‡∏ï.${CORE_DATA.subdistrict} ‡∏≠.${CORE_DATA.district}`, `‡∏ï.${CORE_DATA.subdistrict} ‡∏≠.${CORE_DATA.district} ‡∏à.${CORE_DATA.province}`]),
                postal: postal
            };

            const templates = [
                `${components.house}, ${components.soi}, ${components.address_group}. ${components.phone}`,
                `‡∏Å‡∏£‡∏∏‡∏ì‡∏≤‡∏™‡πà‡∏á‡∏°‡∏≤‡∏ó‡∏µ‡πà: ${components.house}, ${components.address_group}. ${components.postal}. ${components.phone}`,
                `‡∏ó‡∏µ‡πà‡∏≠‡∏¢‡∏π‡πà‡∏™‡∏≥‡∏´‡∏£‡∏±‡∏ö‡∏à‡∏±‡∏î‡∏™‡πà‡∏á: ${components.house}, ${components.soi}. ${components.phone}. (${components.postal})`,
                `${components.phone} --- ‡∏ó‡∏µ‡πà‡∏≠‡∏¢‡∏π‡πà: ${components.house}, ${components.soi}, ${components.address_group}`,
                `‡∏ú‡∏π‡πâ‡∏£‡∏±‡∏ö: ${components.house} ${components.soi}, ${components.province}. ${components.postal}. ${components.phone}`
            ];

            let result = randItem(templates);
            const decoy = getSmartDecoy();
            if (decoy) result = `${result} ${decoy}`;
            
            updateUI(result, startTime);
        }

        // --- UI & STATE UPDATE FUNCTIONS ---
        function updateUI(result, startTime) {
            // Update result text
            resultDisplay.classList.remove('fade-in');
            void resultDisplay.offsetWidth;
            resultDisplay.textContent = result;
            resultDisplay.classList.add('fade-in');

            // Update stats
            stats.generateCount++;
            generateCountEl.textContent = stats.generateCount;
            variationEl.textContent = generateVariationCode();
            const levelEmojis = { modeA: 'üî¥', modeB: '‚ö´' };
            levelIconEl.textContent = levelEmojis[modeSelect.value];
            generationTimeEl.textContent = `Generated in ${Date.now() - startTime}ms`;

            // Update history
            history.unshift({ content: result, variation: variationEl.textContent });
            if (history.length > 5) history.pop();
            updateHistoryDisplay();
        }

        function updateHistoryDisplay() {
            if (history.length === 0) {
                historyContainer.innerHTML = '<div class="text-center text-gray-500 text-sm">‡∏¢‡∏±‡∏á‡πÑ‡∏°‡πà‡∏°‡∏µ‡∏õ‡∏£‡∏∞‡∏ß‡∏±‡∏ï‡∏¥</div>';
                return;
            }
            historyContainer.innerHTML = history.map(item => `
                <div class="bg-gray-700 rounded-lg p-3 hover:bg-gray-600 transition-colors">
                    <div class="flex justify-between items-center mb-1">
                        <span class="text-xs text-blue-400 font-semibold">#${item.variation}</span>
                    </div>
                    <div class="text-sm text-gray-300 truncate mono-font">${item.content}</div>
                </div>
            `).join('');
        }

        async function copyToClipboard() {
            const text = resultDisplay.textContent;
            if (!text) return;
            try {
                await navigator.clipboard.writeText(text);
                stats.copyCount++;
                copyCountEl.textContent = stats.copyCount;
                copyBtn.innerHTML = `‚úÖ ‡∏Ñ‡∏±‡∏î‡∏•‡∏≠‡∏Å‡πÅ‡∏•‡πâ‡∏ß!`;
                setTimeout(() => { copyBtn.innerHTML = `üìã ‡∏Ñ‡∏±‡∏î‡∏•‡∏≠‡∏Å`; }, 2000);
            } catch (err) { console.error('Copy failed', err); }
        }

        function toggleAutoGeneration() {
            if (autoInterval) {
                clearInterval(autoInterval);
                autoInterval = null;
                autoStatusEl.textContent = 'OFF';
            } else {
                autoInterval = setInterval(generateAddress, 3000);
                autoStatusEl.textContent = 'ON';
            }
        }

        function clearAllData() {
            if (confirm('‡∏Ñ‡∏∏‡∏ì‡πÅ‡∏ô‡πà‡πÉ‡∏à‡∏´‡∏£‡∏∑‡∏≠‡πÑ‡∏°‡πà‡∏ó‡∏µ‡πà‡∏à‡∏∞‡∏•‡πâ‡∏≤‡∏á‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•‡∏™‡∏ñ‡∏¥‡∏ï‡∏¥‡πÅ‡∏•‡∏∞‡∏õ‡∏£‡∏∞‡∏ß‡∏±‡∏ï‡∏¥‡∏ó‡∏±‡πâ‡∏á‡∏´‡∏°‡∏î?')) {
                stats = { generateCount: 0, copyCount: 0 };
                history = [];
                generateCountEl.textContent = '0';
                copyCountEl.textContent = '0';
                resultDisplay.textContent = '';
                updateHistoryDisplay();
            }
        }
        
        function updateModeDescription() {
            const descriptions = {
                modeA: '‡πÄ‡∏ô‡πâ‡∏ô‡∏û‡∏£‡∏≤‡∏á‡∏î‡πâ‡∏ß‡∏¢‡∏™‡∏±‡∏ç‡∏•‡∏±‡∏Å‡∏©‡∏ì‡πå‡∏£‡∏≠‡∏ö‡πÜ ‡∏ï‡∏±‡∏ß‡πÄ‡∏•‡∏Ç ‡∏ó‡∏≥‡πÉ‡∏´‡πâ‡∏ö‡∏≠‡∏ó‡∏™‡∏±‡∏ö‡∏™‡∏ô‡πÉ‡∏ô‡πÇ‡∏Ñ‡∏£‡∏á‡∏™‡∏£‡πâ‡∏≤‡∏á',
                modeB: '‡∏ú‡∏™‡∏°‡∏Å‡∏≤‡∏£‡πÅ‡∏õ‡∏•‡∏á‡πÄ‡∏•‡∏Ç‡∏ö‡∏≤‡∏á‡∏™‡πà‡∏ß‡∏ô‡πÄ‡∏õ‡πá‡∏ô‡∏Ñ‡∏≥‡∏≠‡πà‡∏≤‡∏ô ‡πÄ‡∏û‡∏∑‡πà‡∏≠‡∏ó‡∏≥‡∏•‡∏≤‡∏¢‡∏£‡∏π‡∏õ‡πÅ‡∏ö‡∏ö‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•'
            };
            modeDescription.textContent = descriptions[modeSelect.value];
        }

        // --- MATRIX BACKGROUND ---
        const canvas = document.getElementById('matrixCanvas');
        const ctx = canvas.getContext('2d');
        canvas.width = window.innerWidth;
        canvas.height = window.innerHeight;
        const matrixChars = "ABCDEFGHIJKLMNOPQRSTUVWXYZ123456789@#$%^&*()*&^%+-/~{[|`]}".split('');
        const fontSize = 12;
        const columns = canvas.width / fontSize;
        const drops = Array(Math.floor(columns)).fill(1);

        function drawMatrix() {
            ctx.fillStyle = 'rgba(17, 24, 39, 0.05)';
            ctx.fillRect(0, 0, canvas.width, canvas.height);
            ctx.fillStyle = '#059669';
            ctx.font = fontSize + 'px monospace';
            for (let i = 0; i < drops.length; i++) {
                ctx.fillText(randItem(matrixChars), i * fontSize, drops[i] * fontSize);
                if (drops[i] * fontSize > canvas.height && Math.random() > 0.975) drops[i] = 0;
                drops[i]++;
            }
        }
        setInterval(drawMatrix, 40);

        // --- EVENT LISTENERS & INITIALIZATION ---
        generateBtn.addEventListener('click', generateAddress);
        copyBtn.addEventListener('click', copyToClipboard);
        autoGenBtn.addEventListener('click', toggleAutoGeneration);
        clearBtn.addEventListener('click', clearAllData);
        modeSelect.addEventListener('change', updateModeDescription);
        
        updateModeDescription();
        generateAddress();
    });
    </script>
</body>
</html>
